# ドキュメント管理（昇格・参照ログ・削除）

このプロジェクトは「ドキュメントが散在しがち」な前提で、`work_prompt/plan.md` の方針に沿って **昇格（Living化）を先に、物理移動は後** に進めます。  
ここでは、不要なドキュメントを削除するために必要な **参照ログ（何を読んだか）** と、判断ルールを定義します。

---

## 1. ドキュメントの区分（役割）

- **Living（`docs/` に残す）**
  - いまのプロダクト/運用/テストと矛盾しない
  - 変更が入ったら更新される（更新先として信頼できる）
  - 例: 背骨E2Eの仕様、運用手順、現行アーキテクチャ、ADR

- **Reference（参考・履歴）**
  - 直接の運用先ではないが、背景として参照価値がある
  - 例: 以前の計画、比較検討メモ、古い構成案

- **Archive（アーカイブ候補）**
  - 当面の意思決定や作業に使っていないが、削除は不安
  - 一定期間（例: 30日）参照されなければ削除候補へ

- **Delete（削除候補）**
  - 参照されておらず、内容が重複/古い/誤りが多い
  - 削除前に「リンク参照」「実運用参照」がないことを確認する

---

## 2. 昇格ルール（docs に残す基準）

以下のどれかに当てはまるものだけを **Livingとして `docs/` に昇格**する:

- **仕様（テストが根拠）**: 背骨E2Eなど、実行可能な仕様へのリンクがある
- **運用（手順が再現可能）**: 具体的なコマンド/前提/確認方法が明記されている
- **設計判断（ADR）**: 3案比較と採用理由が残っている
- **アーキテクチャ（現行）**: “いま動いている”構造に一致している

逆に、以下は昇格しない（Reference/Archiveへ）:

- 一時的なメモで、今後の更新先として扱わないもの
- 内容がコード/テストと整合していないもの（整合させてから昇格）

---

## 3. 参照ログ（Document Ledger）

### 使い方（最小運用）

- 何かのドキュメントを「参照した」と言えるのは、次のどれかをした時:
  - 作業判断に使った（設計/優先順位/手順）
  - テスト・実装・運用手順の根拠にした
  - 変更・追記・リンク追加を行った
- 参照したら、以下の表に **1行追記**する

### 参照ログ（初期投入）

| 日付 | 種別 | パス | 目的（何のために読んだ？） | 結果（判断） | 次アクション |
|---|---|---|---|---|---|
| 2025-12-26 | Reference | `work_prompt/plan.md` | リファクタ方針（背骨→境界切り出し、ドキュメント方針）を確認 | Livingへの昇格ルール/参照ログ運用の根拠に採用 | 本ドキュメントに方針を反映 |
| 2025-12-26 | Reference | `work_prompt/opus/refactoring-plan.md` | 背骨の進め方・課題・既存資産の整理 | Happy Pathのイシューリスト化に採用 | `docs/product/refactoring-backbone-happy-path-issues.md` 作成 |
| 2025-12-26 | Reference | `work_prompt/opus/current-status.md` | テスト資産とフレーク要因、I/O境界の棚卸し | E2E安定化/結合テスト追加の根拠に採用 | 同上 |
| 2025-12-26 | Reference | `work_prompt/opus/backbone-io-boundary.md` | 背骨I/O境界のマップを確認 | docsへ昇格予定（Living化） | `docs/architecture/backbone-io-boundary.md` へ昇格（コピー＋リンク） |
| 2025-12-26 | Living | `docs/product/issues-and-todos.md` | 既存のバックログ配置を確認 | 本イシューリストは別ファイルで管理が良い | リンク（誘導）を追加する |
| 2025-12-26 | Living | `docs/README.md` | docs索引の入口を確認 | 背骨/ドキュメント管理へのリンクが必要 | 索引に追記する |

---

## 4. 削除フロー（安全に消す）

1. **候補化**: `Delete候補` に載せる（理由を書く）
2. **参照確認**: リポジトリ内リンク/README/運用手順から参照されていないか確認
3. **代替確認**: 同内容の Living が存在するか（重複なら Living へ一本化）
4. **削除**: 削除して良いと判断したら削除（必要なら `.gitignore` 追加も検討）
5. **ログ更新**: 参照ログに「削除済み」を残す（追跡可能性）

---

## 5. 削除候補リスト（最初は空でOK）

| パス | 理由 | 代替（Living） | 状態 |
|---|---|---|---|
| （未登録） |  |  |  |


